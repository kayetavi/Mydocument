<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Damage Mechanism Demo</title>
  <style>
    .mechanism-item { cursor: pointer; padding: 6px; margin: 4px; background: #f0f0f0; }
    .blink { animation: blink 1s infinite; }
    @keyframes blink {
      50% { background-color: yellow; }
    }
    #detailsBtn { display: none; margin-top: 10px; }
    #popup {
      display: none;
      position: fixed; top: 20%; left: 30%;
      background: white; padding: 20px; border: 2px solid black; width: 40%;
    }
  </style>
</head>
<body>

  <div id="mechanismList">
    <div class="mechanism-item" data-dm="1">Sulfidation</div>
    <div class="mechanism-item" data-dm="2">Wet H2S Damage</div>
    <div class="mechanism-item" data-dm="3">Creep</div>
  </div>

  <button id="detailsBtn">ðŸ“˜ Show Details</button>

  <div id="popup">
    <h3 id="popupTitle"></h3>
    <p id="popupDesc"></p>
    <button onclick="document.getElementById('popup').style.display='none'">Close</button>
  </div>

  <script type="module">
    import { damageMechanismDetails } from './Damagemechanism.js';

    const items = document.querySelectorAll(".mechanism-item");
    const detailsBtn = document.getElementById("detailsBtn");
    let selectedDM = null;

    items.forEach(item => {
      item.addEventListener("click", () => {
        items.forEach(i => i.classList.remove("blink")); // Remove previous blinking
        item.classList.add("blink"); // Start blinking
        selectedDM = item.getAttribute("data-dm");
        detailsBtn.style.display = "inline"; // Show "Show Details" button
      });
    });

    detailsBtn.addEventListener("click", () => {
      if (selectedDM && damageMechanismDetails[selectedDM]) {
        const data = damageMechanismDetails[selectedDM];
        document.getElementById("popupTitle").innerText = data.title;
        document.getElementById("popupDesc").innerText = data.description;
        document.getElementById("popup").style.display = "block";
      }
    });
  </script>
</body>
</html>
